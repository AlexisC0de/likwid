<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LIKWID: Intel&reg; Skylake SP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIKWID
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">LIKWID - Like I Knew What I Am Doing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Intel&reg; Skylake SP </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page is valid for Skylake SP. The Skylake SP microarchitecture supports the UBOX and the CBOX Uncore devices.</p>
<h1>Available performance monitors for the Intel&reg; Skylake SP microarchitecture</h1>
<ul>
<li>
<a class="el" href="skylakesp.html#SKX_FIXED">Fixed-purpose counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_PMC">General-purpose counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_THERMAL">Thermal counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_POWER">Power measurement counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_UBOX">Uncore global counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_CBOX">Last level cache counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_WBOX">Power control unit counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_MBOX">Integrated memory controller counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_SBOX">Intel&reg; UPI Link Layer counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_RBOX">Mesh-to-UPI interface counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_M2MBOX">Mesh-to-memory interface</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_IRP">Coherency for IIO traffic counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_IBOXGEN">General-purpose IIO counters</a> </li>
<li>
<a class="el" href="skylakesp.html#SKX_IBOXFIX">Fixed-purpose IIO counters</a> </li>
</ul>
<h1>Counters available for each hardware thread</h1>
<p><a class="anchor" id="SKX_FIXED"></a></p><h2>Fixed-purpose counters</h2>
<p>Since the Core2 microarchitecture, Intel&reg; provides a set of fixed-purpose counters. Each can measure only one specific event.</p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>FIXC0 </td><td>INSTR_RETIRED_ANY  </td></tr>
<tr>
<td>FIXC1 </td><td>CPU_CLK_UNHALTED_CORE  </td></tr>
<tr>
<td>FIXC2 </td><td>CPU_CLK_UNHALTED_REF  </td></tr>
</table>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Description </th><th>Comment  </th></tr>
<tr>
<td>anythread </td><td>N </td><td>Set bit 2+(index*4) in config register </td><td></td></tr>
<tr>
<td>kernel </td><td>N </td><td>Set bit (index*4) in config register </td><td></td></tr>
</table>
<p><a class="anchor" id="SKX_PMC"></a></p><h2>General-purpose counters</h2>
<p>Commonly the Intel&reg; Skylake SP microarchitecture provides 4 general-purpose counters consisting of a config and a counter register.</p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>PMC0 </td><td>*  </td></tr>
<tr>
<td>PMC1 </td><td>*  </td></tr>
<tr>
<td>PMC2 </td><td>*  </td></tr>
<tr>
<td>PMC3 </td><td>*  </td></tr>
</table>
<p>If HyperThreading is disabled, you can additionally use the PMC registers of the disabled SMT thread and thus have 8 PMC registers</p>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Description </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>kernel </td><td>N </td><td>Set bit 17 in config register </td><td></td></tr>
<tr>
<td>anythread </td><td>N </td><td>Set bit 21 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>8 bit hex value </td><td>Set bits 24-31 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>in_transaction </td><td>N </td><td>Set bit 32 in config register </td><td>Only available if Intel&reg; Transactional Synchronization Extensions are available  </td></tr>
<tr>
<td>in_transaction_aborted </td><td>N </td><td>Set bit 33 in config register </td><td>Only counter PMC2 and only if Intel&reg; Transactional Synchronization Extensions are available  </td></tr>
</table>
<h3>Special handling for events</h3>
<p>The Intel&reg; Skylake SP microarchitecture provides measureing of offcore events in PMC counters. Therefore the stream of offcore events must be filtered using the OFFCORE_RESPONSE registers. The Intel&reg; Skylake SP microarchitecture has two of those registers. LIKWID defines some events that perform the filtering according to the event name. Although there are many bitmasks possible, LIKWID natively provides only the ones with response type ANY. Own filtering can be applied with the OFFCORE_RESPONSE_0_OPTIONS and OFFCORE_RESPONSE_1_OPTIONS events. Only for those events two more counter options are available:</p>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Description </th><th>Comment  </th></tr>
<tr>
<td>match0 </td><td>16 bit hex value </td><td>Input value masked with 0x8FFF and written to bits 0-15 in the OFFCORE_RESPONSE register </td><td>Check the <a href="http://www.Intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html">Intel&reg; Software Developer System Programming Manual, Vol. 3, Chapter Performance Monitoring</a> and <a href="https://download.01.org/perfmon/SKX">https://download.01.org/perfmon/SKX</a>.  </td></tr>
<tr>
<td>match1 </td><td>22 bit hex value </td><td>Input value is written to bits 16-37 in the OFFCORE_RESPONSE register </td><td>Check the <a href="http://www.Intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html">Intel&reg; Software Developer System Programming Manual, Vol. 3, Chapter Performance Monitoring</a> and <a href="https://download.01.org/perfmon/SKX">https://download.01.org/perfmon/SKX</a>.  </td></tr>
</table>
<p>The event MEM_TRANS_RETIRED_LOAD_LATENCY is not available because it needs programming of PEBS registers. PEBS is a kernel-level measurement facility for performance monitoring. Although we can program it from user-space, the results are always 0.</p>
<p><a class="anchor" id="SKX_THERMAL"></a></p><h2>Thermal counter</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides one register for the current core temperature.</p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>TMP0 </td><td>TEMP_CORE  </td></tr>
</table>
<h1>Counters available for one hardware thread per socket</h1>
<p><a class="anchor" id="SKX_POWER"></a></p><h2>Power counter</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements of the current power consumption through the RAPL interface.</p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>PWR0 </td><td>PWR_PKG_ENERGY  </td></tr>
<tr>
<td>PWR1 </td><td>PWR_PP0_ENERGY  </td></tr>
<tr>
<td>PWR2 </td><td>PWR_PP1_ENERGY  </td></tr>
<tr>
<td>PWR3 </td><td>PWR_DRAM_ENERGY  </td></tr>
<tr>
<td>PWR4 </td><td>PWR_SYS_ENERGY  </td></tr>
</table>
<p><a class="anchor" id="SKX_UBOX"></a></p><h2>Uncore global counters</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements for the global uncore.</p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>UBOX0 </td><td>*  </td></tr>
<tr>
<td>UBOX1 </td><td>*  </td></tr>
<tr>
<td>UBOXFIX </td><td>UNCORE_CLOCK  </td></tr>
</table>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Description </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>8 bit hex value </td><td>Set bits 24-31 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
</table>
<p><a class="anchor" id="SKX_CBOX"></a></p><h2>Last level cache counters</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements for the last level cache segments.</p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>CBOX&lt;0-27&gt;C0 </td><td>*  </td></tr>
<tr>
<td>CBOX&lt;0-27&gt;C1 </td><td>*  </td></tr>
<tr>
<td>CBOX&lt;0-27&gt;C2 </td><td>*  </td></tr>
<tr>
<td>CBOX&lt;0-27&gt;C3 </td><td>*  </td></tr>
</table>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Description </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>8 bit hex value </td><td>Set bits 24-28 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>tid </td><td>8 bit hex value </td><td>Set bits 0-7 in MSR_UNC_C&lt;0-27&gt;_PMON_BOX_FILTER register and bit 19 in config register </td><td></td></tr>
<tr>
<td>state </td><td>10 bit hex value </td><td>Set bits 17-27 in MSR_UNC_C&lt;0-27&gt;_PMON_BOX_FILTER register </td><td>LLC F: 0x80, LLC M: 0x40, LLC E: 0x20, LLC S: 0x10, SF H: 0x08, SF E: 0x04, SF S: 0x02, LLC I: 0x01  </td></tr>
<tr>
<td>opcode </td><td>20 bit hex value </td><td>Set bits 9-28 and set bits 17,18,27,28 in MSR_UNC_C&lt;0-27&gt;_PMON_BOX_FILTER1 register </td><td>A list of valid opcodes can be found in the <a href="https://www.intel.com/content/www/us/en/processors/xeon/scalable/xeon-scalable-uncore-performance-monitoring-manual.html">Intel&reg; Xeon SP (v6) Uncore Manual</a>.  </td></tr>
<tr>
<td>match0 </td><td>2 bit hex address </td><td>Set bits 30-31 in MSR_UNC_C&lt;0-27&gt;_PMON_BOX_FILTER1 register </td><td>See the <a href="https://www.intel.com/content/www/us/en/processors/xeon/scalable/xeon-scalable-uncore-performance-monitoring-manual.html">Intel&reg; Xeon SP (v6) Uncore Manual</a> for more information.  </td></tr>
<tr>
<td>match1 </td><td>6 bit hex address </td><td>Set bits 0,1,4,5 in MSR_UNC_C&lt;0-27&gt;_PMON_BOX_FILTER1 register </td><td>See the <a href="https://www.intel.com/content/www/us/en/processors/xeon/scalable/xeon-scalable-uncore-performance-monitoring-manual.html">Intel&reg; Xeon SP (v6) Uncore Manual</a> for more information.  </td></tr>
</table>
<p><a class="anchor" id="SKX_MBOX"></a></p><h2>Memory controller counters</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements of the integrated Memory Controllers (iMC) in the Uncore. The description from Intel&reg;:<br />
 <em>Intel&reg; Xeon&reg; Processor Scalable Memory Family integrated Memory Controller provides the interface to DRAM and communicates to the rest of the Uncore through the Mesh2Mem block. <br />
 The memory controller also provides a variety of RAS features, such as ECC, lockstep, memory access retry, memory scrubbing, thermal throttling, mirroring, and rank sparing. </em><br />
 The integrated Memory Controllers performance counters are exposed to the operating system through PCI interfaces. There may be two memory controllers in the system. There are 3 different PCI devices per memory controller, each handling one memory channels. Each channel has 4 different general-purpose counters and one fixed counter for the DRAM clock. The channels of the first memory controller are MBOX0-2, the four channels of the second memory controller (if available) are named MBOX3-5. The name MBOX originates from the Nehalem EX Uncore monitoring where those functional units are called MBOX. </p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>MBOX&lt;0-5&gt;C0 </td><td>*  </td></tr>
<tr>
<td>MBOX&lt;0-5&gt;C1 </td><td>*  </td></tr>
<tr>
<td>MBOX&lt;0-5&gt;C2 </td><td>*  </td></tr>
<tr>
<td>MBOX&lt;0-5&gt;C3 </td><td>*  </td></tr>
<tr>
<td>MBOX&lt;0-5&gt;FIX </td><td>DRAM_CLOCKTICKS  </td></tr>
</table>
<h3>Available Options (Only for counter MBOX&lt;0-7&gt;C&lt;0-3&gt;)</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Operation </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>8 bit hex value </td><td>Set bits 24-31 in config register </td><td></td></tr>
</table>
<p><a class="anchor" id="SKX_WBOX"></a></p><h2>Power control unit counters</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements of the power control unit (PCU) in the Uncore. The description from Intel&reg;:<br />
 <em>The PCU is the primary Power Controller for the Intel&reg; Xeon&reg; Processor Scalable Memory Family die, responsible for distributing power to core/uncore components and thermal management. It runs in firmware on an internal micro-controller and coordinates the socket’s power states.</em> <br />
 The PCU performance counters are exposed to the operating system through the MSR interface. The name WBOX originates from the Nehalem EX Uncore monitoring where those functional units are called WBOX. </p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>WBOX0 </td><td>*  </td></tr>
<tr>
<td>WBOX1 </td><td>*  </td></tr>
<tr>
<td>WBOX2 </td><td>*  </td></tr>
<tr>
<td>WBOX3 </td><td>*  </td></tr>
<tr>
<td>WBOX0FIX </td><td>CORES_IN_C3  </td></tr>
<tr>
<td>WBOX1FIX </td><td>CORES_IN_C6  </td></tr>
<tr>
<td>WBOX2FIX </td><td>CORES_IN_P3  </td></tr>
<tr>
<td>WBOX3FIX </td><td>CORES_IN_P6  </td></tr>
</table>
<h3>Available Options (Only for WBOX&lt;0-3&gt; counters)</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Operation </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>5 bit hex value </td><td>Set bits 24-28 in config register </td><td></td></tr>
<tr>
<td>occupancy </td><td>2 bit hex value </td><td>Set bit 14-15 in config register </td><td>Cores in C0: 0x1, in C3: 0x2, in C6: 0x3  </td></tr>
<tr>
<td>occupancy_filter </td><td>32 bit hex value </td><td>Set bits 0-31 in MSR_UNC_PCU_PMON_BOX_FILTER register </td><td>Band0: bits 0-7, Band1: bits 8-15, Band2: bits 16-23, Band3: bits 24-31  </td></tr>
<tr>
<td>occupancy_edgedetect </td><td>N </td><td>Set bit 31 in config register </td><td></td></tr>
<tr>
<td>occupancy_invert </td><td>N </td><td>Set bit 30 in config register </td><td></td></tr>
</table>
<p><a class="anchor" id="SKX_SBOX"></a></p><h2>UPI interface counters</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements of the Ultra Path Interconnect Link layer (UPI) in the Uncore. The description from Intel&reg;:<br />
 <em>Intel&reg; Xeon&reg; Processor Scalable Memory Family uses a new coherent interconnect for scaling to multiple sockets known as Intel® Ultra Path Interconnect (Intel UPI). Intel&reg; UPI technology provides a cache coherent socket to socket external communication interface between processors. </em><br />
 The UPI hardware performance counters are exposed to the operating system through PCI interfaces. There are three of those interfaces for the UPI. The actual amount of SBOX counters depend on the CPU core count of one socket. If your system has not all interfaces but interface 0 does not work, try the other ones. The SBOX was introduced for the Nehalem EX microarchitecture.</p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>SBOX&lt;0-2&gt;C0 </td><td>*  </td></tr>
<tr>
<td>SBOX&lt;0-2&gt;C1 </td><td>*  </td></tr>
<tr>
<td>SBOX&lt;0-2&gt;C2 </td><td>*  </td></tr>
<tr>
<td>SBOX&lt;0-2&gt;C3 </td><td>*  </td></tr>
</table>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Description </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>8 bit hex value </td><td>Set bits 24-31 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>nid </td><td>8 bit hex value </td><td>Set bits 40-43 and bit 45 in config register </td><td></td></tr>
<tr>
<td>match0 </td><td>8 bit hex value </td><td>Set bits 32-39 in config register </td><td></td></tr>
<tr>
<td>nid </td><td>10 bit hex value </td><td>Set bits 46-55 in config register </td><td></td></tr>
</table>
<p><a class="anchor" id="SKX_RBOX"></a></p><h2>Ring-to-UPI counters</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements of the Mesh-to-UPI (M3UPI) interface in the Uncore. The description from Intel&reg;:<br />
 <em>M3UPI is the interface between the mesh and the Intel&reg; UPI Link Layer. It is responsible for translating between mesh protocol packets and flits that are used for transmitting data across the Intel&reg; UPI interface. It performs credit checking between the local Intel&reg; UPI LL, the remote Intel&reg; UPI LL and other agents on the local mesh. </em><br />
 The Mesh-to-UPI performance counters are exposed to the operating system through PCI interfaces. Since the RBOXes manage the traffic from the LLC-connecting mesh interface on the socket with the UPI interfaces (SBOXes), the amount is similar to the amount of SBOXes. See at SBOXes how many are available for which system configuration. The name RBOX originates from the Nehalem EX Uncore monitoring where those functional units are called RBOX.</p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>RBOX&lt;0,1,2&gt;C0 </td><td>*  </td></tr>
<tr>
<td>RBOX&lt;0,1,2&gt;C1 </td><td>*  </td></tr>
<tr>
<td>RBOX&lt;0,1,2&gt;C2 </td><td>*  </td></tr>
</table>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Operation </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>8 bit hex value </td><td>Set bits 24-31 in config register </td><td></td></tr>
</table>
<p><a class="anchor" id="SKX_M2MBOX"></a></p><h2>Mesh2Memory counters</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements of the mesh (M2M) which connects the cores with the Uncore devices. The description from Intel&reg;:<br />
 <em>M2M blocks manage the interface between the Mesh (operating on both Mesh and the SMI3 protocol) and the Memory Controllers. M2M acts as intermediary between the local CHA issuing memory transactions to its attached Memory Controller. Commands from M2M to the MC are serialized by a scheduler and only one can cross the interface at a time.</em><br />
 The M2M devices is first introduced in the Intel&reg; Skylake SP microarchitecture. There was no suitable unit name for this, so LIKWID calls them simply M2M. </p>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>M2M&lt;0,1&gt;C0 </td><td>*  </td></tr>
<tr>
<td>M2M&lt;0,1&gt;C1 </td><td>*  </td></tr>
<tr>
<td>M2M&lt;0,1&gt;C2 </td><td>*  </td></tr>
<tr>
<td>M2M&lt;0,1&gt;C3 </td><td>*  </td></tr>
</table>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Operation </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>8 bit hex value </td><td>Set bits 24-31 in config register </td><td></td></tr>
</table>
<p><a class="anchor" id="SKX_IBOXGEN"></a></p><h2>IIO box counters (general-purpose)</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements of the IIO box in the Uncore. The description from Intel&reg;:<br />
 <em>IIO stacks are responsible for managing traffic between the PCIe domain and the Mesh domain. The IIO PMON block is situated near the IIO stack’s traffic controller capturing traffic controller as well as PCIe root port information. The traffic controller is responsible for translating traffic coming in from the Mesh (through M2PCIe) and processed by IRP into the PCIe domain to IO agents such as CBDMA, PCIe and MCP.</em> The IIO box counters are exposed to the operating system through the MSR interface. The IBOX was introduced with the Intel&reg; IvyBridge EP/EN/EX microarchitecture. </p>
<h3>Box description</h3>
<table class="doxtable">
<tr>
<th>Unit number </th><th>Unit description  </th></tr>
<tr>
<td>0 </td><td>CBDMA  </td></tr>
<tr>
<td>1 </td><td>PCIe0  </td></tr>
<tr>
<td>2 </td><td>PCIe1  </td></tr>
<tr>
<td>3 </td><td>PCIe2  </td></tr>
<tr>
<td>4 </td><td>MCP0  </td></tr>
<tr>
<td>5 </td><td>MCP1  </td></tr>
</table>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>IBOX&lt;0-5&gt;C0 </td><td>*  </td></tr>
<tr>
<td>IBOX&lt;0-5&gt;C1 </td><td>*  </td></tr>
<tr>
<td>IBOX&lt;0-5&gt;C2 </td><td>*  </td></tr>
<tr>
<td>IBOX&lt;0-5&gt;C3 </td><td>*  </td></tr>
<tr>
<td>IBOX&lt;0-5&gt;CLK </td><td>*  </td></tr>
</table>
<h3>Available Options (only for counters IBOX&lt;0-5&gt;C3&lt;0-3&gt;)</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Operation </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>12 bit hex value </td><td>Set bits 24-35 in config register </td><td></td></tr>
<tr>
<td>mask0 </td><td>8 bit hex value </td><td>Set bits 36-43 in config register </td><td></td></tr>
<tr>
<td>mask1 </td><td>3 bit hex value </td><td>Set bits 44-46 in config register </td><td></td></tr>
</table>
<p><a class="anchor" id="SKX_IBOXFIX"></a></p><h2>IIO box counters (fixed-purpose)</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements of the IIO box in the Uncore. Besides the general-purpose counters of <a class="el" href="skylakesp.html#SKX_IBOXGEN">SKX_IBOXGEN</a> , there are fixed-purpose counters</p>
<h3>Box description</h3>
<table class="doxtable">
<tr>
<th>Unit number </th><th>Unit description  </th></tr>
<tr>
<td>0 </td><td>CBDMA  </td></tr>
<tr>
<td>1 </td><td>PCIe0  </td></tr>
<tr>
<td>2 </td><td>PCIe1  </td></tr>
<tr>
<td>3 </td><td>PCIe2  </td></tr>
<tr>
<td>4 </td><td>MCP0  </td></tr>
<tr>
<td>5 </td><td>MCP1  </td></tr>
</table>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>IBAND&lt;0-5&gt;PI0 </td><td>BANDWIDTH_PORT0_IN  </td></tr>
<tr>
<td>IBAND&lt;0-5&gt;PI1 </td><td>BANDWIDTH_PORT1_IN  </td></tr>
<tr>
<td>IBAND&lt;0-5&gt;PI2 </td><td>BANDWIDTH_PORT2_IN  </td></tr>
<tr>
<td>IBAND&lt;0-5&gt;PI3 </td><td>BANDWIDTH_PORT3_IN  </td></tr>
<tr>
<td>IBAND&lt;0-5&gt;PO0 </td><td>BANDWIDTH_PORT0_OUT  </td></tr>
<tr>
<td>IBAND&lt;0-5&gt;PO1 </td><td>BANDWIDTH_PORT1_OUT  </td></tr>
<tr>
<td>IBAND&lt;0-5&gt;PO2 </td><td>BANDWIDTH_PORT2_OUT  </td></tr>
<tr>
<td>IBAND&lt;0-5&gt;PO3 </td><td>BANDWIDTH_PORT3_OUT  </td></tr>
<tr>
<td></td><td>IUTIL&lt;0-5&gt;PI0 </td><td>UTLILIZATION_PORT0_IN  </td></tr>
<tr>
<td></td><td>IUTIL&lt;0-5&gt;PI1 </td><td>UTLILIZATION_PORT1_IN  </td></tr>
<tr>
<td></td><td>IUTIL&lt;0-5&gt;PI2 </td><td>UTLILIZATION_PORT2_IN  </td></tr>
<tr>
<td></td><td>IUTIL&lt;0-5&gt;PI3 </td><td>UTLILIZATION_PORT3_IN  </td></tr>
<tr>
<td></td><td>IUTIL&lt;0-5&gt;PO0 </td><td>UTLILIZATION_PORT0_OUT  </td></tr>
<tr>
<td></td><td>IUTIL&lt;0-5&gt;PO1 </td><td>UTLILIZATION_PORT1_OUT  </td></tr>
<tr>
<td></td><td>IUTIL&lt;0-5&gt;PO2 </td><td>UTLILIZATION_PORT2_OUT  </td></tr>
<tr>
<td></td><td>IUTIL&lt;0-5&gt;PO3 </td><td>UTLILIZATION_PORT3_OUT  </td></tr>
</table>
<p><a class="anchor" id="SKX_IRP"></a></p><h2>IRP box counters</h2>
<p>The Intel&reg; Skylake SP microarchitecture provides measurements of the IRP box in the Uncore. The description from Intel&reg;:<br />
 <em>IRP is responsible for maintaining coherency for IIO traffic targeting coherent memory.</em> The IRP box counters are exposed to the operating system through the MSR interface. The IRP was introduced with the Intel&reg; IvyBridge EP/EN/EX microarchitecture. </p>
<h3>Box description</h3>
<table class="doxtable">
<tr>
<th>Unit number </th><th>Unit description  </th></tr>
<tr>
<td>0 </td><td>CBDMA  </td></tr>
<tr>
<td>1 </td><td>PCIe0  </td></tr>
<tr>
<td>2 </td><td>PCIe1  </td></tr>
<tr>
<td>3 </td><td>PCIe2  </td></tr>
<tr>
<td>4 </td><td>MCP0  </td></tr>
<tr>
<td>5 </td><td>MCP1  </td></tr>
</table>
<h3>Counter and events</h3>
<table class="doxtable">
<tr>
<th>Counter name </th><th>Event name  </th></tr>
<tr>
<td>IRP&lt;0-5&gt;C0 </td><td>*  </td></tr>
<tr>
<td>IRP&lt;0-5&gt;C1 </td><td>*  </td></tr>
</table>
<h3>Available Options</h3>
<table class="doxtable">
<tr>
<th>Option </th><th>Argument </th><th>Operation </th><th>Comment  </th></tr>
<tr>
<td>edgedetect </td><td>N </td><td>Set bit 18 in config register </td><td></td></tr>
<tr>
<td>invert </td><td>N </td><td>Set bit 23 in config register </td><td></td></tr>
<tr>
<td>threshold </td><td>12 bit hex value </td><td>Set bits 24-35 in config register </td><td></td></tr>
</table>
<p>*/ </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 19 2018 16:37:05 for LIKWID by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
